/*!
 * AdvaHealth Solutions Pty. Ltd. ("AHS") CONFIDENTIAL
 * Copyright (c) 2022 AdvaHealth Solutions Pty. Ltd. All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains the property of AHS. The intellectual and technical concepts contained
 * herein are proprietary to AHS and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material is strictly forbidden unless prior written permission is obtained
 * from AHS.  Access to the source code contained herein is hereby forbidden to anyone except current AHS employees, managers or contractors who have executed
 * Confidentiality and Non-disclosure agreements explicitly covering such access.
 *
 * The copyright notice above does not evidence any actual or intended publication or disclosure  of  this source code, which includes
 * information that is confidential and/or proprietary, and is a trade secret, of AHS. ANY REPRODUCTION, MODIFICATION, DISTRIBUTION, PUBLIC  PERFORMANCE,
 * OR PUBLIC DISPLAY OF OR THROUGH USE  OF THIS  SOURCE CODE  WITHOUT  THE EXPRESS WRITTEN CONSENT OF COMPANY IS STRICTLY PROHIBITED, AND IN VIOLATION OF APPLICABLE
 * LAWS AND INTERNATIONAL TREATIES.  THE RECEIPT OR POSSESSION OF  THIS SOURCE CODE AND/OR RELATED INFORMATION DOES NOT CONVEY OR IMPLY ANY RIGHTS
 * TO REPRODUCE, DISCLOSE OR DISTRIBUTE ITS CONTENTS, OR TO MANUFACTURE, USE, OR SELL ANYTHING THAT IT  MAY DESCRIBE, IN WHOLE OR IN PART.
 */

/* ------------------------------------------------------------------------------
 *
 *  # Chat layouts
 *
 *  Conversation chat styles - layouts, chat elements, colors, options
 *
 * ---------------------------------------------------------------------------- */

// Check if component is enabled
@if $enable-chat {

  // Set scrollbar to the long chat list
  .media-chat-scrollable {
    max-height: $chat-list-max-height;
    display: flex;
    flex-direction: column-reverse;
    overflow: auto;

    // Use .flex-column to reverse vertical alignment
    &:not(.flex-column) {
      .media {
        &:last-child {
          margin-top: map-get($spacers, 3);
        }

        &:first-child {
          margin-top: 0;
        }
      }
    }
  }

  // Message list
  .media-chat {

    // Set side spacing for message bodies
    @include media-breakpoint-up(sm) {
      .media {
        margin-right: 20%;

        // Reversed item
        &.media-chat-item-reverse {
          margin-right: 0;
          margin-left: 20%;
        }
      }
    }
  }

  // Message body
  .media-chat-item {
    position: relative;
    padding: $chat-message-padding-y $chat-message-padding-x;
    width: auto;
    display: inline-block;
    color: $chat-message-color;
    @include border-radius($chat-message-border-radius);

    // Set default bg color
    &:not([class*=bg-]) {
      background-color: $chat-message-bg;
      border-color: $chat-message-bg;
    }

    // Arrow base
    &:before {
      content: '';
      left: -($chat-message-arrow-size);
      top: ($chat-message-padding-y + ($line-height-computed / 2) - rem-calc($chat-message-arrow-size));
      position: absolute;
      margin-left: 0;
      border-top: $chat-message-arrow-size solid transparent;
      border-right: $chat-message-arrow-size solid;
      border-right-color: inherit;
      border-bottom: $chat-message-arrow-size solid transparent;

      // Reversed arrow
      .media-chat-item-reverse & {
        left: auto;
        right: -($chat-message-arrow-size);
        border-right: 0;
        border-left: $chat-message-arrow-size solid;
        border-left-color: inherit;
      }
    }
  }

  // Reversed message body
  .media-chat-item-reverse {

    // Message
    .media-chat-item {
      text-align: left;
      color: $chat-message-reversed-color;

      // Set default bg color
      &:not([class*=bg-]) {
        background-color: $chat-message-reversed-bg;
        border-color: $chat-message-reversed-bg;
      }
    }

    // Change text alignment
    .media-body {
      text-align: right;
    }
  }

  // Inversed message list
  .media-chat-inverse {
    .media-chat-item {
      color: $chat-message-reversed-color;

      // Colors
      &:not([class*=bg-]) {
        background-color: $chat-message-reversed-bg;
        border-color: $chat-message-reversed-bg;
      }
    }

    // Reversed message
    .media-chat-item-reverse {
      .media-chat-item {
        color: $chat-message-color;

        // Colors
        &:not([class*=bg-]) {
          background-color: $chat-message-bg;
          border-color: $chat-message-bg;
        }
      }
    }
  }
}
